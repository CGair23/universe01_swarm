#!/usr/bin/env python3
import pytest
from coder_lib import decode_many


def test_multi_decode():
    data = "00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000096761766f66796f726b0000000000000000000000000000000000000000000000"
    ret = decode_many(["bool", "string", "bool"], data)
    expected = "bool true\nstring gavofyork\nbool false"
    assert ret == expected